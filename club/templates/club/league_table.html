{% extends 'base.html' %}

{% load static %}
{% load custom_tags %}

{% block css %}
<!-- link to custom css -->
<link rel="stylesheet" href="{% static 'club/css/members.css' %}">
{% endblock %}

{% block title %}
Member Zone
{% endblock %}

{% block content %}
<!-- table showing the players' current rankings in the club league table.  
    The position of the logged in user is highlighted -->
<div id="member-zone" class= "container-fluid custom-height">
    <div id="league-table-container" class="container">
        <h2 class="custom-display text-center mb-3">League Table</h2>        
        <table class="table table-bordered my-4">
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Played</th>
                    <th class="mobile-hide">Won</th>
                    <th class="mobile-hide">Drawn</th>
                    <th class="mobile-hide">Lost</th>
                    <th>Points</th>
                </tr>
            </thead>
            <tbody>
                {% for member in league_table %}
                    {% if member.first_name %}
                        {% if member == current_member %}
                            <tr class="highlight">
                                <td>{{member.first_name}} {{member.last_name}}</td>
                                <td>{{member.played}}</td>
                                <td class="mobile-hide">{{member.won}}</td>
                                <td class="mobile-hide">{{member.drawn}}</td>
                                <td class="mobile-hide">{{member.lost}}</td>
                                <td>{{member.points}}</td>
                            </tr>
                        {% else %}
                        <tr>
                            <td>{{member.first_name}} {{member.last_name}}</td>
                            <td>{{member.played}}</td>
                            <td class="mobile-hide">{{member.won}}</td>
                            <td class="mobile-hide">{{member.drawn}}</td>
                            <td class="mobile-hide">{{member.lost}}</td>
                            <td>{{member.points}}</td>
                        </tr>
                        {% endif %}
                    {% endif %}
            {% endfor %}
            </tbody> 
        </table>
        <div class="pitch-img-container">
            <img src="{% static 'club/images/trophy2.jpg' %}" height="200" class="my-auto d-block d-md-none" alt="world cup trophy">
            <img src="{% static 'club/images/trophy2.jpg' %}" height="300" class="my-auto d-none d-md-block" alt="world cup trophy">
        </div>
    </div>
</div>
{% endblock %}