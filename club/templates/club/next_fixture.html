{% extends 'base.html' %}

{% load static %}
{% load custom_tags %}

{% block css %}
<!-- link to custom css -->
<link rel="stylesheet" href="{% static 'club/css/members.css' %}">
{% endblock %}

{% block title %}
Member Zone
{% endblock %}

{% block content %}
<!-- section showing details of the next match and the team selection if teams have been allocated -->
<div id="member-zone" class= "container-fluid custom-height">
    <div id="next-fixture" class="container">
        <h2 class="text-center custom-display">Next Fixture</h2>
        <div class="container" id="pitch-img-container">
            <img src="{% static 'club/images/pitch.jpg' %}" height="200px" class="my-auto" alt="photo of an empty football pitch">  
        </div>  
        <h3 class="text-center">{{next_game.match_date|date:"l j F y"}}</h3>
        <h3 class="text-center">{{next_game.time|date:"H:i"}}</h3>
        <h3 class="text-center">{{next_game.location}}</h3>
        {% if member.playing_match %}
            <h4>You have reserved a place in this match.</h4>
        {% else %}
            {% if next_game.registrations_open %}
                <h4 class="text-center mt-4">Registrations for this match are currently open</h4>
                <h4 class="text-center mb-5">Register your availability <a href="{% url 'booking_form'%}">here</a></h4>
            {% else %}
                <h4 class="text-center my-4">Registrations for this match are currently closed</h4>
            {% endif %}
        {% endif %}
        {% if next_game.teams_allocated %}
        <div class="container my-5 border border-warning rounded" id="team-container">
            <div class="row mt-3">
                <div class="col">
                    <h2 class="text-center">Lineup</h2>
                </div>                
            </div>
            <div class="row my-3">
                <div class="col-md-4">
                    <h4 class="text-center">Blues</h4>
                    {% for player in blues %}
                    <p class="text-center">{{player.player_id}}</p>
                    {% endfor %}
                </div>
                <div class="col-md-4">
                    <h4 class="text-center">Whites</h4>
                    {% for player in whites %}
                    <p class="text-center">{{player.player_id}}</p>
                    {% endfor %}
                </div>
                <div class="col-md-4">
                    <h4 class="text-center">Reserves</h4>
                    {% for player in reserves %}
                    <p class="text-center">{{player.player_id}}</p>
                    {% endfor %}
                </div>
            </div>
        </div>
            {% else %}
            <div class="row-mt-4">
                <h4 class="text-center">Keep an eye on this spot for team details</h4>
            </div>
            {% endif %}
        </div>                
    </div>
</div>
{% endblock %}